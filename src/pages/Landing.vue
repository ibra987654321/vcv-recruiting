<template>
  <div>
    <div class="page-header page-header-small">
      <parallax
        class="page-header-image"
        style="background-image: url('img/job.jpeg')"
      >
      </parallax>
      <div class="content-center">
        <div class="container">
          <h1 class="title">А ты готов раскрыть свой потенциал?</h1>
          <div class="text-center text-dark bg-light rounded p-2 opacity">
            <h3>
              Стать детективом, легко! Быть гуру психологии?! Проще простого!
              Оратором, готово! Проводником? Реально легко! Приходи работать в
              Контакт центр Beeline.
            </h3>
          </div>
        </div>
      </div>
    </div>
    <div id="have-to" class="section section-about-us">
      <div class="container">
        <div class="row">
          <div class="col-md-10 ml-auto mr-auto text-center">
            <h2 class="title">Вот что у тебя будет?</h2>
            <h5 class="text-center">
              - Официальное трудоустройство! Никаких конвертов и нечестных
              расчетов; <br />
              - Удобный посменный график 5/2, смены проставляются
              автоматизированной системой; <br />
              - Стабильная ЗП + бонусы; <br />
              - Бесплатная сотовая связь и интернет, разумеется! Это же Beeline
              Кыргызстан; <br />
              - Через 6 месяцев работы в компании предоставляется ДМС со
              стоматологией и ежегодные мед. осмотры. <br />
            </h5>
          </div>
        </div>
        <div class="separator separator-primary"></div>
        <div class="section-story-overview">
          <div class="row">
            <div class="col-md-6">
              <div
                class="image-container image-left"
                style="background-image: url('img/phone.jpg')"
              >
                <!-- First image on the left side -->
                <p class="blockquote blockquote-primary lead">
                  "Через 6 месяцев работы в компании предоставляется ДМС со
                  стоматологией и ежегодные мед. осмотры."
                  <br />
                  <br />
                  <small>-Страховка</small>
                </p>
              </div>
              <!-- Second image on the left side of the article -->
              <div
                class="image-container"
                style="background-image: url('img/emploer.jpeg')"
              ></div>
            </div>
            <div id="need-know" class="col-md-5">
              <!-- First image on the right side, above the article -->
              <div
                class="image-container image-right"
                style="background-image: url('img/call-center.jpeg')"
              ></div>
              <h3>Что нужно делать?</h3>
              <p>
                - Быть энциклопедией, которая знает все (или почти все) о
                тарифах и услугах компании Beeline;
              </p>
              <p>- Легко влиться в яркую и успешную команду;</p>
              <p>- Взаимодействовать с клиентами и улаживать конфликты.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- <div class="section section-team text-center">
      <div class="container">
        <h2 class="title">Here is our team</h2>
        <div class="team">
          <div class="row">
            <div class="col-md-4">
              <div class="team-player">
                <img
                  src="img/avatar.jpg"
                  alt="Thumbnail Image"
                  class="rounded-circle img-fluid img-raised"
                />
                <h4 class="title">Romina Hadid</h4>
                <p class="category text-primary">Model</p>
                <p class="description">
                  You can write here details about one of your team members. You
                  can give more details about what they do. Feel free to add
                  some <a href="#">links</a> for people to be able to follow
                  them outside the site.
                </p>
                <a href="#pablo" class="btn btn-primary btn-icon btn-round"
                  ><i class="fab fa-twitter"></i
                ></a>
                <a href="#pablo" class="btn btn-primary btn-icon btn-round"
                  ><i class="fab fa-instagram"></i
                ></a>
                <a href="#pablo" class="btn btn-primary btn-icon btn-round"
                  ><i class="fab fa-facebook-square"></i
                ></a>
              </div>
            </div>
            <div class="col-md-4">
              <div class="team-player">
                <img
                  src="img/ryan.jpg"
                  alt="Thumbnail Image"
                  class="rounded-circle img-fluid img-raised"
                />
                <h4 class="title">Ryan Tompson</h4>
                <p class="category text-primary">Designer</p>
                <p class="description">
                  You can write here details about one of your team members. You
                  can give more details about what they do. Feel free to add
                  some <a href="#">links</a> for people to be able to follow
                  them outside the site.
                </p>
                <a href="#pablo" class="btn btn-primary btn-icon btn-round"
                  ><i class="fab fa-twitter"></i
                ></a>
                <a href="#pablo" class="btn btn-primary btn-icon btn-round"
                  ><i class="fab fa-linkedin"></i
                ></a>
              </div>
            </div>
            <div class="col-md-4">
              <div class="team-player">
                <img
                  src="img/eva.jpg"
                  alt="Thumbnail Image"
                  class="rounded-circle img-fluid img-raised"
                />
                <h4 class="title">Eva Jenner</h4>
                <p class="category text-primary">Fashion</p>
                <p class="description">
                  You can write here details about one of your team members. You
                  can give more details about what they do. Feel free to add
                  some <a href="#">links</a> for people to be able to follow
                  them outside the site.
                </p>
                <a href="#pablo" class="btn btn-primary btn-icon btn-round"
                  ><i class="fab fa-google-plus"></i
                ></a>
                <a href="#pablo" class="btn btn-primary btn-icon btn-round"
                  ><i class="fab fa-youtube"></i
                ></a>
                <a href="#pablo" class="btn btn-primary btn-icon btn-round"
                  ><i class="fab fa-twitter"></i
                ></a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div> -->
    <div id="contact" class="section section-contact-us text-center">
      <div class="container">
        <h2 class="title">Контакные данные</h2>
        <p class="blockquote blockquote-primary rounded">
          Уведомления о прохождении этапов отбора будут отправляться на почту.
        </p>
        <div class="row">
          <div class="col-lg-8 text-center ml-auto mr-auto col-md-8">
            <div v-if="!$store.state.loading" >
              <fg-input
                  placeholder="ФИО..."
                  v-model="form.name"
                  :class="{'has-danger': ($v.form.name.$dirty && !$v.form.name.required) || ($v.form.name.$dirty && !$v.form.name.minLength)}"
                  :error="
                    ($v.form.name.$dirty && !$v.form.name.required) ? 'Заполните поле' :
                    ($v.form.name.$dirty && !$v.form.name.minLength) ? `Поле не должно быть меньше 3 букв. Сейчас он ${form.name.length}` : null"
              >
              </fg-input>
              <fg-input
                  placeholder="Почта..."
                  v-model="form.email"
                  :class="{'has-danger': ($v.form.email.$dirty && !$v.form.email.required) || ($v.form.email.$dirty && !$v.form.email.email)} "
                  :error="
                    ($v.form.email.$dirty && !$v.form.email.required) ? 'Заполните поле' :
                    ($v.form.email.$dirty && !$v.form.email.email) ? `Напишите правильную почту. Например @.mail.ru` : null"
              >
              </fg-input>
              <div class="input-group mb-2 p-0" :class="{'has-danger': ($v.form.phoneNumber.$dirty && !$v.form.phoneNumber.required)} ">
                <div class="input-group-prepend">
                  <div class="input-group-text">+996</div>
                </div>
                <input v-model="form.phoneNumber" type="number" class="form-control" id="inlineFormInputGroup" placeholder="Телефон">
                <div
                    class="text-danger invalid-feedback"
                    style="display: block;"
                    v-if="$v.form.phoneNumber.$dirty && !$v.form.phoneNumber.required"
                >
                  Напишите номер
                </div>
                <div
                    class="text-danger invalid-feedback"
                    style="display: block;"
                    v-if="$v.form.phoneNumber.$dirty && !$v.form.phoneNumber.minLength"
                >
                  Должна быть в формате 777005500
                </div>
              </div>
            </div>
            <div v-if="$store.state.loading" class="spinner-border text-warning" role="status">
              <span class="sr-only">Loading...</span>
            </div>
            <div class="send-button">
              <n-button
                  :disabled="$store.state.loading"
                type="warning"
                @click="submitHandler"
                round
                block
                size="lg"
                >Зарегистрироваться</n-button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
<script>
import { Button, FormGroupInput } from "@/components";
import {email, required, minLength} from 'vuelidate/lib/validators'
export default {
  name: "landing",
  bodyClass: "landing-page",
  validations: {
    form: {
      name: {required, minLength: minLength(3)},
      email: {required, email},
      phoneNumber: {required, minLength: minLength(9)},
    },
  },
  components: {
    [Button.name]: Button,
    [FormGroupInput.name]: FormGroupInput,
  },
  data() {
    return {
      form: {
        name: "",
        email: "",
        phoneNumber: "",
      },
    };
  },
  methods: {
    async submitHandler() {
      if (this.$v.$invalid) {
        this.$v.$touch();
        return;
      }
      try {
        await this.$store.dispatch('sendToEmail', this.form)
      } catch (e) {
      }
    },
  },
};
</script>
<style scoped>
.opacity {
  opacity: 0.8;
}
</style>
